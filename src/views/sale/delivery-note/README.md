# Delivery Note System

р╕гр╕░р╕Ър╕Ър╣Гр╕Ър╕кр╣Ир╕Зр╕Вр╕нр╕Зр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Шр╕╕р╕гр╕Бр╕┤р╕Ир╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Ыр╕гр╕░р╕Фр╕▒р╕Ъ - р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕бр╕нр╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕лр╣Йр╕ер╕╣р╕Бр╕Др╣Йр╕▓

## р╕ар╕▓р╕Юр╕гр╕зр╕б

Delivery Note System р╣Ар╕Ыр╣Зр╕Щр╕кр╣Ир╕зр╕Щр╕лр╕Щр╕╢р╣Ир╕Зр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ър╕Зр╕▓р╕Щр╕Вр╕▓р╕вр╕Чр╕╡р╣Ир╕Чр╕│р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕бр╕нр╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Ир╕▓р╕Бр╣Гр╕Ър╕кр╕▒р╣Ир╕Зр╕Вр╕▓р╕вр╣Гр╕лр╣Йр╕ер╕╣р╕Бр╕Др╣Йр╕▓ р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕бр╕нр╕Ър╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕лр╕гр╕╖р╕нр╕Ър╕▓р╕Зр╕кр╣Ир╕зр╕Щ

## Flow р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ

```
Sale Order тЖТ Production/Stock Ready тЖТ Delivery Note тЖТ Shipped тЖТ Delivered тЖТ Invoice
```

1. **Ready Items**: р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Юр╕гр╣Йр╕нр╕бр╕кр╣Ир╕Зр╕бр╕нр╕Ъ (р╕кр╕Хр╣Зр╕нр╕Б + р╕Ьр╕ер╕┤р╕Хр╣Ар╕кр╕гр╣Зр╕И)
2. **Create Delivery Note**: р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ър╕кр╣Ир╕Зр╕Вр╕нр╕З
3. **Pack & Ship**: р╕Ир╕▒р╕Фр╕кр╣Ир╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓
4. **Track Delivery**: р╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕бр╕нр╕Ъ
5. **Confirm Receipt**: р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Бр╕▓р╕гр╕гр╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓

## р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕лр╕ер╕▒р╕Б

### тЬЕ UI Components (Demo Ready)

#### 1. Search & Selection
- р╕Др╣Йр╕Щр╕лр╕▓р╣Гр╕Ър╕кр╕▒р╣Ир╕Зр╕Вр╕▓р╕в/р╣Гр╕Ър╕кр╣Ир╕Зр╕Вр╕нр╕З/р╕ер╕╣р╕Бр╕Др╣Йр╕▓
- Modal р╣Ар╕ер╕╖р╕нр╕Бр╣Гр╕Ър╕кр╕▒р╣Ир╕Зр╕Вр╕▓р╕вр╕Чр╕╡р╣Ир╕Юр╕гр╣Йр╕нр╕бр╕кр╣Ир╕Зр╕бр╕нр╕Ъ
- р╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕▓р╕Щр╕░р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Бр╕Хр╣Ир╕ер╕░р╕гр╕▓р╕вр╕Бр╕▓р╕г

#### 2. Delivery Information
- р╣Ар╕ер╕Вр╕Чр╕╡р╣Ир╣Гр╕Ър╕кр╣Ир╕Зр╕Вр╕нр╕З (DN-2025-001)
- р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕кр╣Ир╕Зр╕бр╕нр╕Ъ
- р╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣Ир╕Ир╕▒р╕Фр╕кр╣Ир╕З
- р╕Ьр╕╣р╣Йр╕гр╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓ + р╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕г
- р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕кр╣Ир╕З (р╕гр╕▒р╕Ър╣Ар╕нр╕З/р╕Ир╕▒р╕Фр╕кр╣Ир╕З/р╕Вр╕Щр╕кр╣Ир╕З)

#### 3. Items Selection Grid
- р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Ир╕▓р╕Бр╣Гр╕Ър╕кр╕▒р╣Ир╕Зр╕Вр╕▓р╕в
- р╕кр╕Цр╕▓р╕Щр╕░р╕Др╕зр╕▓р╕бр╕Юр╕гр╣Йр╕нр╕б (Ready/Not Ready)
- р╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕Юр╕гр╣Йр╕нр╕бр╕кр╣Ир╕З vs р╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕кр╕▒р╣Ир╕З
- р╣Ар╕ер╕╖р╕нр╕Бр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Чр╕╡р╣Ир╕Ир╕░р╕кр╣Ир╕Зр╕бр╕нр╕Ъ
- р╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕бр╕нр╕Ър╕Ър╕▓р╕Зр╕кр╣Ир╕зр╕Щ (Partial Delivery)

#### 4. Delivery Methods
- **р╕гр╕▒р╕Ър╣Ар╕нр╕З**: р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕бр╕▓р╕гр╕▒р╕Ър╕Чр╕╡р╣Ир╕гр╣Йр╕▓р╕Щ
- **р╕Ир╕▒р╕Фр╕кр╣Ир╕Зр╕Шр╕гр╕гр╕бр╕Фр╕▓**: р╣Др╕Ыр╕гр╕йр╕Ур╕╡р╕вр╣Мр╕Шр╕гр╕гр╕бр╕Фр╕▓
- **р╕Ир╕▒р╕Фр╕кр╣Ир╕Зр╕Фр╣Ир╕зр╕Щ**: EMS, Kerry, DHL
- **р╕Вр╕Щр╕кр╣Ир╕Зр╣Ар╕нр╕Бр╕Кр╕Щ**: р╕гр╕Цр╕Ър╕гр╕┤р╕йр╕▒р╕Ч

#### 5. Tracking & Status
- р╣Ар╕ер╕Вр╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Юр╕▒р╕кр╕Фр╕╕
- р╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕кр╣Ир╕З
- р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕Др╕▓р╕Фр╕лр╕зр╕▒р╕Зр╕Цр╕╢р╕З
- р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕кр╣Ир╕З

### ЁЯФД Business Logic (To Implement)

#### Validation Rules
- р╕Хр╣Йр╕нр╕Зр╕бр╕╡р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Чр╕╡р╣Ир╕Юр╕гр╣Йр╕нр╕бр╕кр╣Ир╕Зр╕нр╕вр╣Ир╕▓р╕Зр╕Щр╣Йр╕нр╕в 1 р╕гр╕▓р╕вр╕Бр╕▓р╕г
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕кр╣Ир╕Зр╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щр╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕Юр╕гр╣Йр╕нр╕б
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣Ир╕Ир╕▒р╕Фр╕кр╣Ир╕З
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕гр╕▒р╕Ъ

#### Status Workflow
```
Draft тЖТ Confirmed тЖТ Packed тЖТ Shipped тЖТ In Transit тЖТ Delivered тЖТ Completed
```

#### Partial Delivery Support
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕бр╕нр╕Ър╕Ър╕▓р╕Зр╕кр╣Ир╕зр╕Щ
- р╕нр╕▒р╕Юр╣Ар╕Фр╕Чр╕кр╕Цр╕▓р╕Щр╕░р╣Гр╕Ър╕кр╕▒р╣Ир╕Зр╕Вр╕▓р╕в
- р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ър╕кр╣Ир╕Зр╕Вр╕нр╕Зр╕лр╕ер╕▓р╕вр╣Гр╕Ър╕Ир╕▓р╕Бр╣Гр╕Ър╕кр╕▒р╣Ир╕Зр╕Вр╕▓р╕вр╣Ар╕Фр╕╡р╕вр╕з

## р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М

```
delivery-note/
тФЬтФАтФА index-view.vue                    # Main controller
тФЬтФАтФА components/
тФВ   тФЬтФАтФА search-view.vue              # Search form тЬЕ
тФВ   тФЬтФАтФА delivery-note-view.vue       # Main form & table (TODO)
тФВ   тФЬтФАтФА delivery-info-section.vue   # Delivery details (TODO)
тФВ   тФЬтФАтФА items-selection-grid.vue    # Items grid (TODO)
тФВ   тФФтФАтФА delivery-summary.vue        # Summary section (TODO)
тФЬтФАтФА modal/
тФВ   тФФтФАтФА sale-order-search-modal.vue # Sale order selector (TODO)
тФФтФАтФА README.md                       # This file тЬЕ
```

## Key UI Sections р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕кр╕гр╣Йр╕▓р╕З

### 1. Delivery Information Section
```vue
<!-- Delivery Details -->
- р╣Ар╕ер╕Вр╕Чр╕╡р╣Ир╣Гр╕Ър╕кр╣Ир╕Зр╕Вр╕нр╕З
- р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕кр╣Ир╕Зр╕бр╕нр╕Ъ
- р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕кр╣Ир╕З (Dropdown)
- р╣Ар╕ер╕Вр╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Юр╕▒р╕кр╕Фр╕╕
- р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕Др╕▓р╕Фр╕лр╕зр╕▒р╕Зр╕Цр╕╢р╕З
```

### 2. Recipient Information
```vue
<!-- Recipient Details -->
- р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╕гр╕▒р╕Ъ
- р╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣Ир╕Ир╕▒р╕Фр╕кр╣Ир╕З
- р╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕гр╕Ьр╕╣р╣Йр╕гр╕▒р╕Ъ
- р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕р╕Бр╕▓р╕гр╕кр╣Ир╕З
```

### 3. Items Selection Grid
```vue
<!-- DataTable with columns: -->
- [тЬУ] р╣Ар╕ер╕╖р╕нр╕Б
- р╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕кр╕┤р╕Щр╕Др╣Йр╕▓
- р╕гр╕лр╕▒р╕кр╕кр╕┤р╕Щр╕Др╣Йр╕▓
- р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓
- р╕кр╕Цр╕▓р╕Щр╕░ (Ready/Not Ready)
- р╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕кр╕▒р╣Ир╕З
- р╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕Юр╕гр╣Йр╕нр╕бр╕кр╣Ир╕З
- р╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕Ир╕░р╕кр╣Ир╕З (Input)
- р╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕кр╣Ир╕Зр╣Бр╕ер╣Йр╕з
- р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕
```

### 4. Delivery Summary
```vue
<!-- Summary Cards -->
- р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Чр╕╡р╣Ир╣Ар╕ер╕╖р╕нр╕Б: X р╕гр╕▓р╕вр╕Бр╕▓р╕г
- р╕Ир╕│р╕Щр╕зр╕Щр╕гр╕зр╕бр╕Чр╕╡р╣Ир╕Ир╕░р╕кр╣Ир╕З: Y р╕Кр╕┤р╣Йр╕Щ
- р╕бр╕╣р╕ер╕Др╣Ир╕▓р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╕кр╣Ир╕З: Z р╕Ър╕▓р╕Ч
- р╕Др╣Ир╕▓р╕Ир╕▒р╕Фр╕кр╣Ир╕З: A р╕Ър╕▓р╕Ч
- р╕бр╕╣р╕ер╕Др╣Ир╕▓р╕гр╕зр╕б: B р╕Ър╕▓р╕Ч
```

### 5. Action Buttons
```vue
<!-- Action Buttons -->
- р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕гр╣Ир╕▓р╕З
- р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╣Гр╕Ър╕кр╣Ир╕Зр╕Вр╕нр╕З
- р╕Юр╕┤р╕бр╕Юр╣Мр╣Гр╕Ър╕кр╣Ир╕Зр╕Вр╕нр╕З
- р╕кр╣Ир╕Зр╕бр╕нр╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓
- р╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕кр╣Ир╕З
- р╕вр╕Бр╣Ар╕ер╕┤р╕Б
```

## Data Models

### Frontend Models
```typescript
interface DeliveryNote {
  deliveryNoteId?: number
  saleOrderId: number
  number: string
  deliveryDate: Date
  deliveryMethod: DeliveryMethod
  trackingNumber?: string
  recipientName: string
  deliveryAddress: string
  recipientPhone: string
  status: DeliveryStatus
  items: DeliveryItem[]
  shippingCost?: number
  totalValue: number
  remark?: string
}

interface DeliveryItem {
  itemId: number
  productId: number
  productName: string
  orderedQuantity: number
  readyQuantity: number
  deliveryQuantity: number
  deliveredQuantity: number
  isSelected: boolean
  unitPrice: number
  lineTotal: number
}

enum DeliveryMethod {
  Pickup = 'pickup',           // р╕гр╕▒р╕Ър╣Ар╕нр╕З
  RegularMail = 'regular',     // р╣Др╕Ыр╕гр╕йр╕Ур╕╡р╕вр╣Мр╕Шр╕гр╕гр╕бр╕Фр╕▓
  Express = 'express',         // р╕Вр╕Щр╕кр╣Ир╕Зр╕Фр╣Ир╕зр╕Щ
  Courier = 'courier'          // р╕Вр╕Щр╕кр╣Ир╕Зр╣Ар╕нр╕Бр╕Кр╕Щ
}

enum DeliveryStatus {
  Draft = 'Draft',
  Confirmed = 'Confirmed',
  Packed = 'Packed',
  Shipped = 'Shipped',
  InTransit = 'InTransit',
  Delivered = 'Delivered',
  Completed = 'Completed'
}
```

## Mock Data Structure

```javascript
// Sale Order with Ready Items
const mockSaleOrderData = {
  saleOrderId: 1,
  number: 'SO-2025-001',
  customerName: 'р╕Ър╕гр╕┤р╕йр╕▒р╕Ч ABC р╕Ир╕│р╕Бр╕▒р╕Ф',
  customerAddress: '123 р╕Цр╕Щр╕Щр╕кр╕╕р╕Вр╕╕р╕бр╕зр╕┤р╕Ч р╕Бр╕гр╕╕р╕Зр╣Ар╕Чр╕Юр╕п 10110',
  items: [
    {
      itemId: 1,
      productName: 'Diamond Ring Set',
      itemType: 'Stock',
      orderedQuantity: 2,
      readyQuantity: 2,        // Stock ready
      deliveredQuantity: 0,
      isReady: true
    },
    {
      itemId: 2,
      productName: 'Custom Necklace',
      itemType: 'Production',
      orderedQuantity: 1,
      readyQuantity: 0,        // Still in production
      deliveredQuantity: 0,
      isReady: false
    }
  ]
}
```

## Integration Points

### API Endpoints (To Develop)
- `GET /api/delivery-notes/from-sale-order/{id}` - Load ready items
- `POST /api/delivery-notes` - Create delivery note
- `PUT /api/delivery-notes/{id}/confirm` - Confirm delivery
- `PUT /api/delivery-notes/{id}/ship` - Mark as shipped
- `GET /api/delivery-notes/{id}/tracking` - Get tracking info

### Status Updates
- р╕нр╕▒р╕Юр╣Ар╕Фр╕Ч Sale Order status р╣Ар╕Ыр╣Зр╕Щ "PartiallyFulfilled" р╕лр╕гр╕╖р╕н "Fulfilled"
- р╕нр╕▒р╕Юр╣Ар╕Фр╕Ч Stock levels р╕лр╕ер╕▒р╕Зр╕кр╣Ир╕Зр╕бр╕нр╕Ъ
- р╕кр╕гр╣Йр╕▓р╕З transaction log
- р╕кр╣Ир╕З notification р╣Гр╕лр╣Йр╕ер╕╣р╕Бр╕Др╣Йр╕▓

## р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ (Demo Flow)

1. **р╣Ар╕ер╕╖р╕нр╕Бр╣Гр╕Ър╕кр╕▒р╣Ир╕Зр╕Вр╕▓р╕в**: р╕Др╣Йр╕Щр╕лр╕▓р╕лр╕гр╕╖р╕нр╣Ар╕ер╕╖р╕нр╕Бр╕Ир╕▓р╕Б Modal
2. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Юр╕гр╣Йр╕нр╕бр╕кр╣Ир╕З**: р╕Фр╕╣р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╕Юр╕гр╣Йр╕нр╕бр╕кр╣Ир╕Зр╕бр╕нр╕Ъ
3. **р╣Ар╕ер╕╖р╕нр╕Бр╕гр╕▓р╕вр╕Бр╕▓р╕г**: р╣Ар╕ер╕╖р╕нр╕Бр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╕Ир╕░р╕кр╣Ир╕Зр╕бр╕нр╕Ъ
4. **р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╕▓р╕гр╕кр╣Ир╕З**: р╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣И, р╕Ьр╕╣р╣Йр╕гр╕▒р╕Ъ, р╕зр╕┤р╕Шр╕╡р╕кр╣Ир╕З
5. **р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╣Гр╕Ър╕кр╣Ир╕Зр╕Вр╕нр╕З**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Бр╕ер╕░р╕вр╕╖р╕Щр╕вр╕▒р╕Щ
6. **р╕Юр╕┤р╕бр╕Юр╣Мр╣Гр╕Ър╕кр╣Ир╕Зр╕Вр╕нр╕З**: р╕кр╕гр╣Йр╕▓р╕З PDF
7. **р╕Ир╕▒р╕Фр╕кр╣Ир╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓**: р╕нр╕▒р╕Юр╣Ар╕Фр╕Чр╕кр╕Цр╕▓р╕Щр╕░

## Next Steps

1. **Complete UI Components**: р╕кр╕гр╣Йр╕▓р╕З component р╕Чр╕╡р╣Ир╣Ар╕лр╕ер╕╖р╕н
2. **API Integration**: р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н backend APIs
3. **PDF Generation**: р╕гр╕░р╕Ър╕Ър╕кр╕гр╣Йр╕▓р╕З PDF р╣Гр╕Ър╕кр╣Ир╕Зр╕Вр╕нр╕З
4. **Tracking Integration**: р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н API р╕Вр╕Щр╕кр╣Ир╕З
5. **Notification System**: р╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕ер╕╣р╕Бр╕Др╣Йр╕▓

---
*р╕кр╕Цр╕▓р╕Щр╕░: UI Framework Ready - р╕гр╕н Component Implementation*